<!--
  Generated template for the TabComingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title><ion-icon name="people"></ion-icon> KH đến lịch hẹn</ion-title>
    <ion-buttons end>
        <ion-spinner *ngIf='isLoading' name='dots'></ion-spinner>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content no-padding>
    <ion-refresher (ionRefresh)="onRefresh($event)">
        <ion-refresher-content pullingIcon="arrow-dropdown"
        pullingText="Kéo xuống để tải lại"
        refreshingSpinner="circles"
        refreshingText="Đang tải..."></ion-refresher-content>
    </ion-refresher>
    <table ngClass="table">
      <tr ngClass="row-header">
        <th>STT</th>
        <th color='primary'>Tên</th>        
        <th>Ngày sinh</th>        
        <th>Huyện</th>        
        <th>Điện thoại</th>        
        <th>CH</th>        
        <th>Lần cuối bảo dưỡng</th>
        <th>Lần cuối gọi ra</th>
        <th>Kết quả</th>
        <th>Hẹn ngày</th>
        <th>Thao tác</th>
      </tr>
      <tr ngClass="row-body" *ngFor='let customer of customers;let i=index'>
          <td>{{i + 1}}</td>
          <td><button ion-button small clear outline no-padding no-margin (click)='showDetailCustomer($event, customer)'>{{customer.full_name}}</button></td>
          <td>{{customer.birthday}}</td>        
          <td>{{customer.district}}</td>        
          <td>{{customer.phone}}</td>        
          <td>{{customer.shop_name}}</td>        
          <td>{{customer.last_maintance_date}}</td>
          <td>{{customer.last_call_out_date}}</td>
          <td>{{customer.call_out_result}}</td>
          <td><p ion-text color='secondary' no-margin>{{customer.next_book_date}}</p></td>
          <td><button ion-button small clear outline no-padding no-margin (click)='showDetailCustomer($event, customer)'>Chi tiết</button></td>
      </tr>
    </table>
  </ion-content>
