<!--
  Generated template for the CustomerListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <!-- <ion-title>DS Khách hàng</ion-title> -->
    <ion-searchbar placeholder="Tìm tên hoặc điện thoại" [(ngModel)]='searchString' (ionInput)="searchCustomer($event)"></ion-searchbar>
  </ion-navbar>
</ion-header>

<ion-content no-padding>
  <table ngClass="table">
    <tr ngClass="row-header">
      <th align-items-center>Tên</th>        
      <th align-items-center>Ngày sinh</th>        
      <th align-items-center>Huyện</th>        
      <th align-items-center>Điện thoại</th>        
      <th align-items-center>Lần cuối bảo dưỡng</th>
      <th align-items-center>Lần cuối gọi ra</th>        
      <th align-items-center>Kết quả</th>
      <th align-items-center>Hẹn ngày</th>
      <th align-items-center>Thao tác</th>
    </tr>
    <tr *ngIf='isSearching'>
      <td><ion-spinner name='dots'></ion-spinner> Đang tải...</td>
    </tr>
    <tr ngClass="row-body" *ngFor='let customer of filterCustomers'>
        <td><button ion-button small clear outline no-padding no-margin (click)='showDetailCustomer($event, customer)'>{{customer.full_name}}</button></td>
        <td><p ion-text color='secondary' no-margin>{{customer.birthday}}</p></td>        
        <td>{{customer.district}}</td>        
        <td>{{customer.phone}}</td>        
        <td>{{customer.last_maintance_date}}</td>
        <td>{{customer.last_call_out_date}}</td>        
        <td>{{customer.call_out_result}}</td>        
        <td><p ion-text color='secondary' no-margin>{{customer.next_book_date}}</p></td>
        <td><button ion-button small clear outline no-padding no-margin (click)='showDetailCustomer($event, customer)'>Chi tiết</button></td>
    </tr>
  </table>
  <ion-fab bottom right>
    <button ion-fab mini (click)="onAddCustomer($event)">
      <ion-icon name="add"></ion-icon>
    </button>
  </ion-fab>
</ion-content>
